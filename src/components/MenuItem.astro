---
// src/components/MenuItem.astro
import { Image } from "astro:assets";

export interface Props {
  item: {
    name: string;
    price: string;
    description: string;
    image: any;
    alt: string;
    category: string;
  };
  // We add this to allow any other HTML attributes (like transition:name)
  [key: string]: any;
}

// 1. Destructure 'item' and capture all other props (like transition:name)
//    into a new 'rest' object.
const { item, ...rest } = Astro.props;
---

<div
  class="menu-item flex h-full flex-col overflow-hidden rounded-lg border border-white/10 bg-gray-900/70 shadow-lg
         transition-[transform,opacity] duration-300 ease-out hover:-translate-y-2 hover:shadow-black/30"
  data-category={item.category}
  {...rest}
>
  <Image
    src={item.image}
    alt={item.alt}
    width={400}
    height={250}
    format="webp"
    quality={80}
    class="h-[250px] w-full object-cover"
    loading="lazy"
  />
  <div class="flex h-full flex-col p-6">
    <div class="flex items-center justify-between">
      <h4 class="font-heading text-2xl text-primary">{item.name}</h4>
      <p class="font-heading text-2xl font-bold text-primary">{item.price}</p>
    </div>
    <p class="mt-2 grow text-light/90">{item.description}</p>
  </div>
</div>
